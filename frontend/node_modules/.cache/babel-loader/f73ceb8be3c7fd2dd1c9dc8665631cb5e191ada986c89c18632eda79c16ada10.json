{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\akshi\\\\OneDrive\\\\Desktop\\\\inventory management system\\\\frontend\\\\src\\\\components\\\\SupplierManagement\\\\SupplierForm.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { TextField, Button, Select, MenuItem, InputLabel, FormControl } from '@mui/material';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst SupplierForm = ({\n  setSuppliers\n}) => {\n  _s();\n  const [supplier, setSupplier] = useState({\n    name: '',\n    contact_info: '',\n    productsSupplied: []\n  });\n  const [products, setProducts] = useState([]);\n  useEffect(() => {\n    // Fetch available products from the backend to display in the dropdown\n    const fetchProducts = async () => {\n      try {\n        const response = await axios.get('http://localhost:9001/api/products'); // Replace with the correct API endpoint\n        setProducts(response.data);\n      } catch (error) {\n        console.error(\"Error fetching products: \", error);\n      }\n    };\n    fetchProducts();\n  }, []);\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setSupplier(prev => ({\n      ...prev,\n      [name]: value\n    }));\n  };\n  const handleProductSelect = e => {\n    const {\n      value\n    } = e.target;\n    setSupplier(prev => ({\n      ...prev,\n      productsSupplied: value\n    }));\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    try {\n      const response = await axios.post('http://localhost:9001/api/suppliers/createSupplier', supplier);\n      setSuppliers(prev => [...prev, response.data.supplier]);\n      setSupplier({\n        name: '',\n        contact_info: '',\n        productsSupplied: []\n      }); // Reset form\n    } catch (error) {\n      console.error(\"Error creating supplier: \", error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: handleSubmit,\n    children: [/*#__PURE__*/_jsxDEV(TextField, {\n      label: \"Supplier Name\",\n      name: \"name\",\n      value: supplier.name,\n      onChange: handleChange,\n      required: true,\n      fullWidth: true,\n      margin: \"normal\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(TextField, {\n      label: \"Contact Information\",\n      name: \"contact_info\",\n      value: supplier.contact_info,\n      onChange: handleChange,\n      required: true,\n      fullWidth: true,\n      margin: \"normal\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n      fullWidth: true,\n      margin: \"normal\",\n      children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n        children: \"Products Supplied\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Select, {\n        name: \"productsSupplied\",\n        multiple: true,\n        value: supplier.productsSupplied,\n        onChange: handleProductSelect,\n        renderValue: selected => selected.map(productId => {\n          const product = products.find(p => p._id === productId);\n          return product ? product.name : \"\";\n        }).join(\", \"),\n        children: products.map(product => /*#__PURE__*/_jsxDEV(MenuItem, {\n          value: product._id,\n          children: product.name\n        }, product._id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      type: \"submit\",\n      variant: \"contained\",\n      color: \"primary\",\n      fullWidth: true,\n      children: \"Add Supplier\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 5\n  }, this);\n};\n_s(SupplierForm, \"r/opuS4crdz9z1otJ0Wrwh+Eilo=\");\n_c = SupplierForm;\nexport default SupplierForm;\nvar _c;\n$RefreshReg$(_c, \"SupplierForm\");","map":{"version":3,"names":["React","useState","useEffect","TextField","Button","Select","MenuItem","InputLabel","FormControl","axios","jsxDEV","_jsxDEV","SupplierForm","setSuppliers","_s","supplier","setSupplier","name","contact_info","productsSupplied","products","setProducts","fetchProducts","response","get","data","error","console","handleChange","e","value","target","prev","handleProductSelect","handleSubmit","preventDefault","post","onSubmit","children","label","onChange","required","fullWidth","margin","fileName","_jsxFileName","lineNumber","columnNumber","multiple","renderValue","selected","map","productId","product","find","p","_id","join","type","variant","color","_c","$RefreshReg$"],"sources":["C:/Users/akshi/OneDrive/Desktop/inventory management system/frontend/src/components/SupplierManagement/SupplierForm.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { TextField, Button, Select, MenuItem, InputLabel, FormControl } from '@mui/material';\r\nimport axios from 'axios';\r\n\r\nconst SupplierForm = ({ setSuppliers }) => {\r\n  const [supplier, setSupplier] = useState({ name: '', contact_info: '', productsSupplied: [] });\r\n  const [products, setProducts] = useState([]);\r\n\r\n  useEffect(() => {\r\n    // Fetch available products from the backend to display in the dropdown\r\n    const fetchProducts = async () => {\r\n      try {\r\n        const response = await axios.get('http://localhost:9001/api/products'); // Replace with the correct API endpoint\r\n        setProducts(response.data);\r\n      } catch (error) {\r\n        console.error(\"Error fetching products: \", error);\r\n      }\r\n    };\r\n\r\n    fetchProducts();\r\n  }, []);\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setSupplier((prev) => ({ ...prev, [name]: value }));\r\n  };\r\n\r\n  const handleProductSelect = (e) => {\r\n    const { value } = e.target;\r\n    setSupplier((prev) => ({ ...prev, productsSupplied: value }));\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      const response = await axios.post('http://localhost:9001/api/suppliers/createSupplier', supplier);\r\n      setSuppliers((prev) => [...prev, response.data.supplier]);\r\n      setSupplier({ name: '', contact_info: '', productsSupplied: [] }); // Reset form\r\n    } catch (error) {\r\n      console.error(\"Error creating supplier: \", error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit}>\r\n      <TextField\r\n        label=\"Supplier Name\"\r\n        name=\"name\"\r\n        value={supplier.name}\r\n        onChange={handleChange}\r\n        required\r\n        fullWidth\r\n        margin=\"normal\"\r\n      />\r\n      <TextField\r\n        label=\"Contact Information\"\r\n        name=\"contact_info\"\r\n        value={supplier.contact_info}\r\n        onChange={handleChange}\r\n        required\r\n        fullWidth\r\n        margin=\"normal\"\r\n      />\r\n\r\n      <FormControl fullWidth margin=\"normal\">\r\n        <InputLabel>Products Supplied</InputLabel>\r\n        <Select\r\n          name=\"productsSupplied\"\r\n          multiple\r\n          value={supplier.productsSupplied}\r\n          onChange={handleProductSelect}\r\n          renderValue={(selected) => selected.map((productId) => {\r\n            const product = products.find((p) => p._id === productId);\r\n            return product ? product.name : \"\";\r\n          }).join(\", \")}\r\n        >\r\n          {products.map((product) => (\r\n            <MenuItem key={product._id} value={product._id}>\r\n              {product.name}\r\n            </MenuItem>\r\n          ))}\r\n        </Select>\r\n      </FormControl>\r\n\r\n      <Button type=\"submit\" variant=\"contained\" color=\"primary\" fullWidth>\r\n        Add Supplier\r\n      </Button>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default SupplierForm;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}